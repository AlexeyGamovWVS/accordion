# Универсальный аккордеон для сайта
Тут текст описание
____
## Пояснения к HTML и CSS
* `accordion` – это общая обертка для элементов, она непосредственно содержит `.accordion__item` — сам элемент с аккордеоном;
* `.accordion__item` – это один элемент, внутри которого располагается кнопка `.accordion__btn`, содержащая заголовок `accordion__header` и содержимое `.accordion__body` с некоторым текстом `.accordion__answer`;
* `.accordion__btn` – кнопка-обёртка, при нажатии на которую будет открываться `.accordion__body`;
* `.accordion__body` – содержимое-обёртка, связанная с кнопкой __btn.

Раскрыт или нет `.accordion__item` определяется посредством класса `accordion__item_show`. Если данный класс присутствует у элемента, то `.accordion__body` показывается. В противном случае – нет.

Переключение состояния `.accordion__item` осуществляется посредством нажатия на "кнопку" `.accordion__btn`.

__Важный аспект: (bold)__, если `.accordion__item` не имеет класса `accordion__item_show`, элемент `.accordion__body` не показывается, это реализовано на CSS следующим образом:

```css
.accordion__item:not(.accordion__item_show) .accordion__body {
  display: none;
}
```

Остальные стили отвечают только за оформление аккордеона и к функционалу прямого отношения не имеют.


___
## Пояснения к JS и установка
Слушатель клика устанавливается 1 раз на весь блок с аккордеонами. Нужный кликнутый аккордеон ищется с помощью `closest('.accordion__btn')`.

__Важный момент: (bold)__ если вы в разметке используете не кнопки, а иные сущности, как в примере в данном репозитории (текст в обёртке), то кнопкой является обёртка, а текст в обёртке должен в стилях содержать pointer-events: none; 

### Методы класса accordion
* `accordionInit()` — публичный метод для инициализации аккордеона
* `_getElements()` — приватный метод для поиска нужных DOM-елементов или сбора селекторов.
* `_setEventListeners()` — приватный метод для добавления различных слушателей. На каждый слушатель создаётся свой отдельный приватный метод. В данной версии слушатель только один — по клику.
* `_setClickListener()` — приватный метод установки слушателя на событие «клик» по заголовку (кнопке). Устанавливается на блок с аккордеонами, при клике находит ближайший кликнутый объект, если этот объект — нужный нам аккордион, устанавливает Handler.
* `_accordionHandler()` — приватный метод, проверяет условия из конфига: если аккордеоны не должны оставаться открытыми при клике на отличный от кликнутого аккордеон, то выполнить проверку, по какому из аккордеонов пользователь кликнул. Если кликнули на тот же, что открыт — ничего не делать, если на другой — закрыть тот, что был открыт. Логика вынесена в отдельный приватный метод `_checkOpenedItem()`. Также данный метод запускает открытие аккордеона, описанное в методе `_toggleState()`.
* `_toggleState(item)` — приватный метод, получающий на вход кнопку аккордеона (элемент списка всех аккордеонов). Находит соседний элемент, являющийся `body`, переключает класс видимого элемента.

### Установка аккордеона на сайт
1. Вставить в нужное место разметку аккордеона на сайт (см index.html). В данном примере для обработки в JS использовались селекторы классов, можно использовать идентификаторы (id='#57463424') в случае, если аккордеонов на странице несколько.

2. Подключить к странице CSS и JavaScript файлы. Если кнопки выполнены текстом с обёрткой — обрати внимание на пояснения к JS выше.

3. Создать экземпляр класса и инициализировать блок:

```js
const accordion = new Accordion({
  accordionBlockSelector: ".accordion",
  btnSelector: ".accordion__btn",
  itemShowSelector: ".accordion__item_show",
  //alwaysOpen: false, //по умолчанию true, можно не добавлять в конфиг, если нужно, чтобы аккордеоны оставались открытыми
});

accordion.accordionInit();
```

Конфиг также можно передавать отдельным объектом:

```js
const accordionConfig = {
  accordionBlockSelector: ".accordion",
  btnSelector: ".accordion__btn",
  itemShowSelector: ".accordion__item_show",
  //alwaysOpen: false, //по умолчанию true, можно не добавлять в конфиг, если нужно, чтобы аккордеоны оставались открытыми
}

const accordion = new Accordion(accordionConfig);
accordion.accordionInit();
```

_Свойство alwaysOpen определяет необходимо ли при открытии нового контента закрывать предыдущий. Если false, то необходимо. В противном случае не нужно. Значение true – это значение по умолчанию и в этом случае его можно не указывать: (italic)_

```js
const accordionConfig = {
  accordionBlockSelector: "#acc2",
  btnSelector: ".accordion__btn",
  itemShowSelector: ".accordion__item_show",
  //alwaysOpen: false, //по умолчанию true, можно не добавлять в конфиг, если нужно, чтобы аккордеоны оставались открытыми
}

const accordion = new Accordion(accordionConfig);
accordion.accordionInit();
```






